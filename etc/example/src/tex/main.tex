%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                           mklatex/main.tex                                   %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Load `mklatex` interface and configuration in the first place.
% (Eventually pass options to `\documentclass`).
\newcommand{\texEtcPath}{\directlua{tex.write(os.getenv("LATEX_ETC_DIR"))}}
\RequirePackage{\texEtcPath/mklatex}

\documentclass[paper=a4,fontsize=11pt]{article}

% Uncomment to switch to natbib:
% NOTE: Load it here instead of inside `mklatex.sty` using a `\RequirePackage`, otherwise it throws an `Undefined control sequence` error
\usepackage{natbib}

\begin{document}

\title{MKLaTeX Example}
\author{Pierre Ayoub}

\maketitle

Example file of MkLaTeX.

\subfile{\texSrcPath/sec1.tex}
\subfile{\texSrcPath/sec2.tex}

% Uncomment to switch to natbib:
\bibliographystyle{plain}
\bibliography{references.bib}
% \printbibliography{}

\end{document}
